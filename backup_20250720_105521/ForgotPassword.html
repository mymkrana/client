<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password</title>
    <link href="/project/assets/css/styles.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="login-container forgot-password-page">
    <div style="width: 100%; max-width: 500px; margin: 0 auto;">
        <a href="Login.html" class="back-link" style="margin: 1.5rem 0 0 0;">‚Üê Back to Login</a>
    </div>
    <div class="logo-container">
        <img src="/project/assets/images/logo.png" alt="RedCloud Logo" class="logo-img">
    </div>
    <div class="login-card">
        <div class="login-header">
            <h3 class="login-title">Forgot Password</h3>
            <p class="login-subtitle">Reset your password securely</p>
        </div>
        <div class="login-form-body">
            <form class="login-form" id="forgot-password-form">
                <div class="form-group">
                    <label class="form-label" for="fp-email">Email Address *</label>
                    <input type="email" class="form-input" id="fp-email" name="email" placeholder="Enter your email address" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="fp-mobileNumber">Mobile Number *</label>
                    <div class="form-row">
                        <select id="fp-countryCode" name="countryCode" class="form-select country-code-select" required>
                            <option value="+234" selected>+234 (NG)</option>
                            <option value="+91">+91 (IN)</option>
                            <option value="+1">+1 (US)</option>
                            <option value="+44">+44 (UK)</option>
                            <option value="+971">+971 (UAE)</option>
                            <option value="+27">+27 (ZA)</option>
                            <option value="+233">+233 (GH)</option>
                            <option value="+92">+92 (PK)</option>
                        </select>
                        <input class="form-input flex-1" id="fp-mobileNumber" name="mobileNumber" placeholder="800 123 4567" required>
                        <button class="btn btn-secondary send-otp-btn" type="button">Send OTP</button>
                    </div>
                </div>
                <div id="otp-container" style="display:none; margin-top:0.75rem;">
                    <input class="form-input" id="otp-input" name="otp" placeholder="Enter 4-digit OTP" maxlength="4" pattern="\d{4}" inputmode="numeric" autocomplete="one-time-code">
                    <div id="otp-success" style="display:none; color:#16a34a; font-size:0.95rem; margin-top:0.5rem;">
                        OTP verified successfully!
                    </div>
                    <div id="otp-error" style="display:none; color:#dc2626; font-size:0.95rem; margin-top:0.5rem;">
                        Invalid OTP. Please try again.
                    </div>
                    <div style="display:flex; align-items:center; gap:1rem; margin-top:0.5rem;">
                        <span id="otp-timer" style="color:#2563eb; font-size:0.95rem; display:none;">Resend in 30s</span>
                        <a href="#" id="otp-resend" style="color:#2563eb; font-size:0.95rem; text-decoration:underline; display:none;">Resend OTP</a>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label" for="fp-new-password">New Password *</label>
                    <input type="password" class="form-input" id="fp-new-password" name="newPassword" placeholder="Enter new password" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="fp-confirm-password">Confirm Password *</label>
                    <input type="password" class="form-input" id="fp-confirm-password" name="confirmPassword" placeholder="Confirm new password" required>
                </div>
                <button class="btn btn-primary w-full" type="submit">Reset Password</button>
            </form>
        </div>
    </div>
    <script src="/project/assets/js/script.js"></script>
    <script>
    // OTP logic for forgot password (same as registration)
    document.addEventListener('DOMContentLoaded', function() {
        const sendOtpBtn = document.querySelector('.send-otp-btn');
        const otpContainer = document.getElementById('otp-container');
        const otpInput = document.getElementById('otp-input');
        const otpSuccess = document.getElementById('otp-success');
        const otpError = document.getElementById('otp-error');
        const otpTimer = document.getElementById('otp-timer');
        const otpResend = document.getElementById('otp-resend');
        let otpMock = '1234';
        let timerInterval = null;
        let timerSeconds = 30;
        function startOtpTimer() {
            timerSeconds = 30;
            otpTimer.style.display = 'inline';
            otpResend.style.display = 'none';
            otpTimer.textContent = `Resend in ${timerSeconds}s`;
            timerInterval = setInterval(() => {
                timerSeconds--;
                otpTimer.textContent = `Resend in ${timerSeconds}s`;
                if (timerSeconds <= 0) {
                    clearInterval(timerInterval);
                    otpTimer.style.display = 'none';
                    otpResend.style.display = 'inline';
                }
            }, 1000);
        }
        function resetOtpUI() {
            otpInput.value = '';
            otpInput.disabled = false;
            otpSuccess.style.display = 'none';
            otpError.style.display = 'none';
            otpInput.style.borderColor = '';
        }
        if (sendOtpBtn && otpContainer && otpInput) {
            sendOtpBtn.addEventListener('click', function() {
                otpContainer.style.display = 'block';
                resetOtpUI();
                otpInput.focus();
                startOtpTimer();
            });
        }
        if (otpInput) {
            otpInput.addEventListener('input', function() {
                otpSuccess.style.display = 'none';
                otpError.style.display = 'none';
                otpInput.style.borderColor = '';
                if (otpInput.value.length === 4) {
                    otpInput.disabled = true;
                    setTimeout(() => {
                        if (otpInput.value === otpMock) {
                            otpSuccess.style.display = 'block';
                            otpError.style.display = 'none';
                            otpInput.style.borderColor = '#16a34a';
                        } else {
                            otpSuccess.style.display = 'none';
                            otpError.style.display = 'block';
                            otpInput.style.borderColor = '#dc2626';
                            otpInput.disabled = false;
                            otpInput.focus();
                        }
                    }, 400);
                }
            });
        }
        if (otpResend) {
            otpResend.addEventListener('click', function(e) {
                e.preventDefault();
                resetOtpUI();
                startOtpTimer();
                otpInput.focus();
            });
        }
    });
    </script>
</body>
</html> 